{% extends 'base.html' %}
{% block content %}

<div class="container-fluid">
    <h5>Student Results</h5>

    <!-- <a href="/assessment/exam/result">Exam Result</a> -->

    <!-- Grade Selection Row -->
    <div class="d-flex mb-3">
        {% for grade in grades %}
            <a href="?grade_id={{ grade.id }}" class="btn btn-primary btn-sm mx-1 
               {% if selected_grade == grade.id|stringformat:"s" %} active {% endif %}">
                {{ grade.grade_name }}
            </a>
        {% endfor %}
    </div>

    <!-- Exam Results Table -->
    {% if results %}
    <table class="table table-striped table-bordered table-sm">
        <thead>
            <tr>
                <th style="width: 5%; max-width: 30px">No</th>
                <th style="width: 10%; max-width: 50px">Student</th>
                <th style="width: 10%; max-width: 50px">Topic</th>
                <th style="width: 10%; max-width: 50px">Question</th>
                
                <th style="width: 5%; max-width: 30px">Score</th>
            </tr>
        </thead>
        <tbody>
            {% for result in results %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ result.student.first_name }} {{ result.student.last_name }}</td>
                <td>{{ result.question.topic.name }}</td>
                <td> Question {{ result.question.question_number }}</td>
                
                <td>{{ result.score }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
        <p class=" mt-3">Click to Select Results You Want to View.</p>
    {% endif %}

    <a href="/assessment/" class="btn btn-secondary mt-4">Back to Assessment</a>
</div>

{% endblock content %}
