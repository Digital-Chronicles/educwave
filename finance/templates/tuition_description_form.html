{% extends "base.html" %}

{% block content %}
<div class="bg-white shadow rounded-lg p-6 max-w-3xl mx-auto">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">
    {% if object %}Edit{% else %}Add{% endif %} Tuition Description
  </h2>
  
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    
    {% if form.non_field_errors %}
      <div class="bg-red-50 border-l-4 border-red-500 p-4 mb-6">
        {% for error in form.non_field_errors %}
          <p class="text-red-700">{{ error }}</p>
        {% endfor %}
      </div>
    {% endif %}

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Student Field -->
      <div class="md:col-span-2">
        <label for="{{ form.student.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
          {{ form.student.label }}
        </label>
        {{ form.student }}
        {% if form.student.errors %}
          <p class="mt-1 text-sm text-red-600">{{ form.student.errors.as_text }}</p>
        {% endif %}
        <p class="mt-1 text-sm text-gray-500">Search by student name or ID</p>
      </div>

      <!-- Tuition Field -->
      <div class="md:col-span-2">
        <label for="{{ form.tuition.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-1">
          {{ form.tuition.label }}
        </label>
        {{ form.tuition }}
        {% if form.tuition.errors %}
          <p class="mt-1 text-sm text-red-600">{{ form.tuition.errors.as_text }}</p>
        {% endif %}
      </div>

      <!-- Checkbox Fields -->
      <div class="flex items-center space-x-4">
        {{ form.hostel }}
        <label for="{{ form.hostel.id_for_label }}" class="block text-sm font-medium text-gray-700">
          {{ form.hostel.label }}
        </label>
      </div>

      <div class="flex items-center space-x-4">
        {{ form.lunch }}
        <label for="{{ form.lunch.id_for_label }}" class="block text-sm font-medium text-gray-700">
          {{ form.lunch.label }}
        </label>
      </div>

      <div class="flex items-center space-x-4">
        {{ form.breakfast }}
        <label for="{{ form.breakfast.id_for_label }}" class="block text-sm font-medium text-gray-700">
          {{ form.breakfast.label }}
        </label>
      </div>
    </div>

    <div class="mt-8 flex justify-end space-x-3">
      <a href="{% url 'tuition_description_list' %}" class="inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
        Cancel
      </a>
      <button type="submit" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
        {% if object %}Update{% else %}Create{% endif %} Tuition Description
      </button>
    </div>
  </form>
</div>

<!-- Initialize Select2 -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize Select2 for select fields
    $('select').select2({
        width: '100%',
        theme: 'bootstrap',
        minimumResultsForSearch: 1
    });
    
    // Style checkboxes
    $('input[type="checkbox"]').addClass('h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded');
});
</script>
{% endblock %}